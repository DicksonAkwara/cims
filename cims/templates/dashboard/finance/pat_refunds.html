{% extends "partials/base.html" %}
{% block title %}Patient-Refunds{% endblock %}
{% load static %}
{% load crispy_forms_tags %} <!--loading crispy forms-->
{% block content %}
     
<!--navbar.html-->
{% include 'partials/finance_nav.html'%}
<div class="container-fluid" id="main">
    <div class="row my-2">
            <div class="col-sm-12">
              <div class="card h-100">
                      <div class="card-header">
                       Patient &amp; Bill Details
                      </div>
                      <div class="card-body">
                        <div class="row mt-1">
                           <div class="col-sm-4">
                            <div class="form-group">
                              <div class="input-group">
                                <div class="input-group-prepend">
                                  <span class="input-group-text">Receipt No</span>
                                </div> 
                                <input class="form-control" type="text" id="rcnumber" placeholder="search by rcpt no" aria-label="Search">                                
                               
                              </div>
                              <small id="rcSearchStatus" class="text-danger"></small>
                            </div>
                          </div>
                          <div class="col-sm-3">
                            <div class="form-group">
                              <small class="text-danger"></small>
                            </div>
                          </div>
                        </div>  
                       <div class="row">
                        <div class="col-sm-4">
                          <div class="input-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text">Patient Name</span>
                            </div> 
                            <input class="form-control" type="text" id="ptname" readonly>                                
                           
                          </div>
                        </div>
                      
                        <div class="col-sm-2">
                          <div class="input-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text">Age</span>
                            </div> 
                            <input class="form-control" type="text" id="ptname" readonly>                                
                           
                          </div>
                        </div>
                        <div class="col-sm-2">
                          <div class="input-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text">Gender</span>
                            </div> 
                            <input class="form-control" type="text" id="ptname" readonly>                                
                           
                          </div>
                        </div>
                        <div class="col-sm-4">
                          <div class="input-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text">Receipt Amount</span>
                            </div> 
                            <input class="form-control" type="text" id="ptname" readonly>                                
                           
                          </div>
                        </div>
                       </div>
   
                       <div class="row mt-1"> 
                         <div class="col-sm-12" style="max-height:300px;overflow-y:scroll;" >
                           <table class="table table-sm table-hover table-fixed " id="tblwaiver">
                             <thead style="position: sticky;top: 0" class="thead-dark">
                               <th style="width:30%"> Service/Item</th>
                               <th> Quantity</th>
                               <th> Price</th> 
                               <th> Total</th>
                               <th> Refund</th>
                               <th> Balance</th>                               
                             </thead>
                             <tbody class="tblwaiverBody">                            
                             </tbody>                       
                           </table>                        
                         </div>                      
                       </div>

                       <div class="row mt-3">
                         <div class="col-sm-12">
                           <input type="text" class="form-control" hidden id="waiverno">
                           <button class="float-right btn btn-info" id="btnExempt"> Initiate Refund</button>
                         </div>
                       </div>                                      
                      </div>
              </div> 
                        
             </div>          
            
         </div>
       
    

</div>
<!--/.container-->
 <!--add bill modal-->
 <div class="modal fade" id="billModal" tabindex="-1" aria-labelledby="bill_modal" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-top modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header"> 
        <h5 class="modal-title float-center" id="billmodalTitle">Request for Service<small>(s)</small></h5> 
        <button type="button" class="btn-close btn-danger" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>         
      </div>
      <div class="modal-body">
        <div class="row">                       
          <div class="col-sm-6">
            <div class="form-group">
              <input type="text" class="form-control" id="cpsearch" placeholder="Service Name">
            </div>
          </div>                     
        </div>  
        <div class="row">
          <div class="col-sm-12">              
              <table class="table table-sm table-hover tblSearch" id="tblSearch">
                <thead>
                  <th style="width:70%;">Service Name</th>
                  <th>Price</th>                                     
                </thead>
                <tbody class="tblSearchBody"></tbody>
              </table>             
          </div>                     
        </div>
      
          
        </div>        
        
      </div>          
    </div>
  </div>
<script>
  $('body').height(document.documentElement.clientHeight);
</script>

<script src="{% static 'js/cashpoint.js' %}"></script>
<!--footer.html-->
{% include 'partials/footer.html' %}
{% endblock%}